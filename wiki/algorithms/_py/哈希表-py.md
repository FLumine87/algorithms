这份课件《Week 9: Hash Tables》系统性地介绍了**哈希表**及其核心概念，并延伸至**搜索树**（特别是二叉搜索树）作为有序映射的实现方式。以下是内容及其相关知识点的详细、系统性讲解：

---

## 一、哈希表基础

### 1. 什么是哈希表？
哈希表是一种**键值对存储结构**，通过一个**数组 + 哈希函数**实现。它允许在平均情况下以**O(1)**的时间复杂度进行插入、查找和删除操作。

- **数组**：支持随机访问，索引访问时间复杂度为 O(1)。
- **哈希函数**：将任意类型的**键**映射到一个**整数索引**，从而在数组中找到对应的存储位置。

### 2. 哈希函数的结构
一个典型的哈希函数包含两部分：
- **哈希码函数**：将键映射为一个整数。
- **压缩函数**：将哈希码压缩到数组索引范围 `[0, N-1]`。

常用压缩方法：
- **除法法**：`h(k) = hash(k) % N`
- **MAD法**：`[(a × hash(k) + b) % p] % N`，其中 `p` 为大于 N 的质数，`a` 和 `b` 为随机数。

---

## 二、哈希碰撞及其处理

### 1. 什么是碰撞？
当两个不同的键被映射到同一个索引时，发生**碰撞**。

### 2. 碰撞处理方法

#### （1）链地址法
- 每个槽位存储一个**链表**，碰撞的键值对存储在同一个链表中。
- 查找时需遍历链表。
- 负载因子 λ = n/N，建议 λ < 1。

#### （2）开放寻址法
- 所有元素都存储在数组中，碰撞时寻找下一个可用槽位。
- **线性探测**：依次尝试 `(j + 1) % N`、`(j + 2) % N` …
- **二次探测**：依次尝试 `(j + 1²) % N`、`(j + 2²) % N` …
- **删除标记**：删除时标记为“可用”，而非直接清空，避免中断探测链。

---

## 三、哈希表的实现细节

### 1. 哈希函数设计
- **整数/浮点数**：直接取整或截断。
- **字符串**：使用**多项式哈希码**，考虑字符位置，避免“字母重排”碰撞。
- **Python内置哈希**：`hash()` 仅适用于不可变类型（int, str, tuple 等）。

### 2. 动态扩容
- 当负载因子超过阈值（如 0.5）时，扩容数组（通常翻倍）。
- 扩容后需**重新哈希**所有元素。

### 3. 时间复杂度分析
- 理想情况下（均匀分布）：O(1)
- 最坏情况（全部碰撞）：O(n)
---

## 五、哈希表 vs 搜索树

| 特性 | 哈希表 | 二叉搜索树 |
|------|--------|------------|
| 有序性 | 无 | 有 |
| 平均时间复杂度 | O(1) | O(log n) |
| 最坏时间复杂度 | O(n) | O(n) |
| 内存使用 | 连续数组 + 链表/探测 | 动态节点分配 |
| 适用场景 | 快速查找、无序遍历 | 有序遍历、范围查询 |
