## 算术逻辑单元（ALU）详解：从基础电路到 CPU 核心组件

#### 一、ALU 在 CPU 中的定位与功能

- **CPU 架构核心**： CPU 由算术逻辑单元（ALU）、控制单元（CU）、存储器单元（Memory Unit）和寄存器（Registers）组成，ALU 负责执行算术和逻辑运算。
- **功能概述**：
    - 处理算术运算：加法、减法、比较大小等。
    - 处理逻辑运算：与（AND）、或（OR）、非（NOT）等。
    - 扩展功能：部分处理器将 ALU 拆分为算术单元（AU）和逻辑单元（LU），或集成浮点运算单元（FPU）。

#### 二、ALU 的工作原理与控制逻辑

- **输入与输出接口**：
    - 通过总线（Bus）与控制器、内存、外设交互，输入包含操作码（Opcode）和操作数（Operand）。
    - 操作码指定运算类型（如加法、逻辑与），操作数为运算数据（如 A、B）。
- **功能选择控制**：
    - 由控制信号 F（多位二进制）指定具体操作，例如：

|F|功能|
|---|---|---|
|000|A & B（逻辑与）||
|001|A|B（逻辑或）|
|010|A + B（加法）||
|110|A - B（减法）||
|111|SLT（小于则置 1）||
        
- **关键运算实现**：
    - **加法 / 减法**：通过控制信号 F₂决定是否对 B 取反（$\bar{B}$），实现 A-B = A+$\bar{B}$+1（补码减法）。
    - **小于比较（SLT）**：当 A < B 时输出 1，否则输出 0，基于补码运算的符号位判断。

#### 三、ALU 的基础构建模块：半加器与全加器

##### 1. **半加器（Half Adder）**

- **功能**：计算两个 1 位二进制数的和，输出和（Sum）与进位（Carry）。
- **真值表**：

|A|B|Sum|Carry|
|---|---|---|---|
|0|0|0|0|
|0|1|1|0|
|1|0|1|0|
|1|1|0|1|

- **逻辑表达式**：
    - 和：$Sum = A \oplus B$（异或运算）
    - 进位：$Carry = A \cdot B$（与运算）
- **电路结构**：由 1 个异或门和 1 个与门组成。

##### 2. **全加器（Full Adder）**

- **功能**：计算两个 1 位二进制数与低位进位的和，输出和（Sum）与高位进位（Carry Out）。
- **真值表**：
    
|Carry In|A|B|Sum|Carry Out|
|---|---|---|---|---|
|0|0|0|0|0|
|0|0|1|1|0|
|0|1|0|1|0|
|0|1|1|0|1|
|1|0|0|1|0|
|1|0|1|0|1|
|1|1|0|0|1|
|1|1|1|1|1|
    
- **逻辑表达式**：
    - 和：$Sum = A \oplus B \oplus CarryIn$（三重异或）
    - 进位：$CarryOut = AB + A \cdot CarryIn + B \cdot CarryIn$
- **电路结构**：由两个半加器和一个或门级联组成，可处理低位进位输入。

#### 四、ALU 的扩展与实际应用

- **多位 ALU 的构建**：
    - 通过级联全加器实现 N 位加法器（如 16 位、32 位），进位链（Carry Chain）影响运算速度。
    - 超前进位（Carry Lookahead）技术可减少长进位链的延迟，提升高速运算性能。
- **SLT 操作的实现**：
    - 对 A 和 B 进行补码减法（A - B），若结果为负数（符号位为 1），则 A < B，SLT 输出 1。
- **应用场景**：
    - **CPU 指令执行**：如加法指令（ADD）、逻辑与指令（AND）的硬件实现。
    - **数据处理**：在数字信号处理、密码学运算中完成批量数据的算术逻辑操作。

#### 五、ALU 与计算机性能的关系

- **关键性能指标**：
    - **延迟**：完成一次运算的时间（如加法延迟由进位链长度决定）。
    - **吞吐量**：单位时间内处理的运算次数，受时钟频率和流水线设计影响。
- **优化方向**：
    - 采用并行运算（如多 ALU 核心）。
    - 改进进位逻辑（如超前进位加法器），减少延迟。
![[Pasted image 20250620141135.png]] ![[Pasted image 20250620141250.png]]
## [[波纹进位加法器（Ripple-Carry Adder）与超前进位加法器（Carry-Lookahead Adder）]]