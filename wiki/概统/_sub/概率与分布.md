### 2. 累积分布函数

累积分布函数是一个更基础、更统一的概念，因为它对**离散型和连续型**随机变量都适用。

#### 2.1 定义

设 $X$ 是一个随机变量，对任意实数 $x$，累积分布函数 $F_X (x)$ 定义为：
$$ F_X (x) = P (X \le x) $$
即，随机变量 $X$ 的取值**小于等于** $x$ 的概率。

#### 2.2 核心性质

一个函数 $F (x)$ 能成为 CDF，必须满足以下三个性质：

1.  **单调不减性**：如果 $a < b$，则 $F (a) \le F (b)$。
    *   **解释**：随着 $x$ 的增大，“$X \le x$”这个事件包含的可能性越来越多，概率自然不会减小。

2.  **有界性**：
    $$ \lim_{x \to -\infty} F (x) = 0 $$
    $$ \lim_{x \to \infty} F (x) = 1 $$
    *   **解释**：当 $x$ 趋向负无穷时，“$X \le x$”几乎是一个不可能事件，概率为 0。当 $x$ 趋向正无穷时，它几乎是必然事件，概率为 1。

3.  **右连续性**：$\lim_{x \to a^+} F (x) = F (a)$。
    *   **解释**：CDF 的图像从右侧逼近任何一个点时，其值等于该点的函数值。这个性质在连续型随机变量中表现为完全连续，在离散型随机变量中表现为“台阶”的跳跃。

#### 2.3 用途与解读

*   **直接计算概率**：
    *   $P (X \le a) = F (a)$
    *   $P (X > a) = 1 - F (a)$
    *   $P (a < X \le b) = F (b) - F (a)$ **（这是最重要的公式之一）**

*   **可视化理解**：CDF 的图像从左边接近 0 开始，最终上升到 1。它完整地描述了随机变量的概率分布情况。

**示例**：假设某随机变量 $X$ 的 CDF 如下：
$$
F (x) = \begin{cases}
0 & \text{如果 } x < 0 \\
X^2 & \text{如果 } 0 \le x \le 1 \\
1 & \text{如果 } x > 1
\end{cases}
$$
那么，$P (X \le 0.5) = F (0.5) = (0.5)^2 = 0.25$
$P (0.2 < X \le 0.8) = F (0.8) - F (0.2) = (0.8)^2 - (0.2)^2 = 0.64 - 0.04 = 0.6$

---

### 3. 概率密度函数

概率密度函数是专门为**连续型随机变量**定义的概念。

#### 3.1 动机与定义

对于连续随机变量，我们不能像离散变量那样定义一个“概率质量函数”。取而代之的是**概率密度函数**。

如果随机变量 $X$ 的 CDF $F (x)$ 处处可导，那么其 PDF $f (x)$ 定义为 CDF 的导数：
$$ f (x) = \frac{d}{dx} F (x) $$

反过来，CDF 是 PDF 的积分（从负无穷到 $x$）：
$$ F (x) = \int_{-\infty}^{x} f (t) \, dt $$

#### 3.2 核心性质

一个函数 $f (x)$ 能成为 PDF，必须满足以下两个性质：

1.  **非负性**：对所有 $x$，有 $f (x) \ge 0$。
    *   **解释**：概率密度不能为负。

2.  **归一性**：整个区间上的积分为 1。
    $$ \int_{-\infty}^{\infty} f (x) \, dx = 1 $$
    *   **解释**：随机变量取遍所有可能值的总概率为 1。

#### 3.3 关键理解与常见误区

**最重要的一点：PDF 在某点的值 $f (a)$ 不是概率，而是概率的“密度”。**

*   **密度类比**：想象一根质量不均匀的棍子。PDF $f (x)$ 就像这根棍子在 $x$ 点的**线密度**（单位长度的质量）。$f (a)$ 本身不是质量，但 $f (a)$ 越大，表示在 $a$ 点附近单位长度内的质量越大。
*   **概率是面积的体现**：对于连续随机变量，概率由 PDF 曲线下的**面积**给出。
    $$ P (a < X \le b) = \int_{a}^{b} f (x) \, dx = F (b) - F (a) $$
    这个面积代表了随机变量 $X$ 落在区间 $(a, b]$ 内的概率。

*   **单点概率为零**：由于在单点上积分的面积为 0，所以 $P (X = a) = 0$。这意味着对于连续随机变量，$P (a < X \le b) = P (a \le X \le b) = P (a \le X < b) = P (a < X < b)$。区间端点是否包含，不影响概率值。

**示例**：经典的**均匀分布**。假设 $X$ 在区间 [0, 2] 上均匀分布。
*   其 PDF 为：
    $$
    F (x) = \begin{cases}
    \frac{1}{2} & \text{如果 } 0 \le x \le 2 \\
    0 & \text{其他}
    \end{cases}
    $$
    为什么是 $\frac{1}{2}$？因为要满足归一性：区间 [0,2] 的长度是 2，所以高度必须是 $1/2$ 才能让矩形面积 $2 \times \frac{1}{2} = 1$。
*   其 CDF 可以通过积分得到：
    $$
    F (x) = \int_{-\infty}^{x} f (t) dt = \begin{cases}
    0 & \text{如果 } x < 0 \\
    \frac{x}{2} & \text{如果 } 0 \le x \le 2 \\
    1 & \text{如果 } x > 2
    \end{cases}
    $$
    计算 $P (0.5 < X < 1.5)$：
    *   **用 PDF**：$\int_{0.5}^{1.5} \frac{1}{2} dx = \frac{1}{2} \times (1.5 - 0.5) = 0.5$
    *   **用 CDF**：$F (1.5) - F (0.5) = \frac{1.5}{2} - \frac{0.5}{2} = 0.75 - 0.25 = 0.5$

---

### 4. PDF 与 CDF 的关系总结

让我们用一个清晰的表格和图示来总结它们的关系：

| 特征 | 累积分布函数 $F (x)$ | 概率密度函数 $f (x)$ |
| :--- | :--- | :--- |
| **定义** | $P (X \le x)$ | $f (x) = \frac{d}{dx} F (x)$ |
| **适用范围** | 离散和连续随机变量 | **仅限**连续随机变量 |
| **值的含义** | **累积概率** | **概率密度**（非概率） |
| **计算概率** | $P (a < X \le b) = F (b) - F (a)$ | $P (a < X \le b) = \int_a^b f (x) dx$ |
| **图像纵轴** | 概率值 | 密度值 |
| **单点概率** | $P (X=a) = F (a) - \lim_{x \to a^-} F (a)$（在连续情况下为 0） | 恒为 0 |
| **核心性质** | 单调不减，右连续，$F (-\infty)=0$，$F (\infty)=1$ | 非负，$\int_{-\infty}^{\infty} f (x) dx = 1$ |
| **几何意义** | 曲线从 0 上升到 1 | $F (x)$ 是 $f (x)$ 曲线下从 $-\infty$ 到 $x$ 的面积 |

**关系图**：
```
     微分关系
CDF  <--------->  PDF
F(x)              f(x)
 |                  |
 |积分(从-∞到x)     |积分(求面积)
 |                  |
 V                  V
P(X ≤ x)        P(a<X≤b)
(概率)           (概率)
```
