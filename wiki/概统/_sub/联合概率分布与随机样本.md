
## 1. è”åˆåˆ†å¸ƒéšæœºå˜é‡

åœ¨ç°å®ä¸–ç•Œä¸­ï¼Œæˆ‘ä»¬ç»å¸¸éœ€è¦åŒæ—¶ç ”ç©¶å¤šä¸ªéšæœºå˜é‡ä¹‹é—´çš„å…³ç³»ã€‚è”åˆåˆ†å¸ƒå°±ä¸ºæ­¤æä¾›äº†æ•°å­¦æ¡†æ¶ã€‚

### 1.1 è”åˆæ¦‚ç‡å¯†åº¦å‡½æ•°

å¯¹äºä¸¤ä¸ªè¿ç»­éšæœºå˜é‡ $X$ å’Œ $Y$ï¼Œå®ƒä»¬çš„**è”åˆæ¦‚ç‡å¯†åº¦å‡½æ•°** $f_{X, Y}(x, y)$ æ»¡è¶³ï¼š

1. **éè´Ÿæ€§**ï¼š$f_{X, Y}(x, y) \ge 0$ å¯¹æ‰€æœ‰ $x, y$
2. **å½’ä¸€æ€§**ï¼š$\int_{-\infty}^{\infty} \int_{-\infty}^{\infty} f_{X, Y}(x, y) \, dx \, dy = 1$
3. **æ¦‚ç‡è®¡ç®—**ï¼š$P ((X, Y) \in A) = \iint\limits_A f_{X, Y}(x, y) \, dx \, dy$

### 1.2 è¾¹ç¼˜åˆ†å¸ƒ

ä»è”åˆåˆ†å¸ƒä¸­å¯ä»¥æ¨å¯¼å‡ºå•ä¸ªå˜é‡çš„åˆ†å¸ƒï¼Œç§°ä¸º**è¾¹ç¼˜åˆ†å¸ƒ**ï¼š

- **è¾¹ç¼˜ PDF**ï¼š
  $$
  F_X (x) = \int_{-\infty}^{\infty} f_{X, Y}(x, y) \, dy
  $$
  $$
  F_Y (y) = \int_{-\infty}^{\infty} f_{X, Y}(x, y) \, dx
  $$

### 1.3 æ¡ä»¶åˆ†å¸ƒ

æ¡ä»¶åˆ†å¸ƒæè¿°äº†ä¸€ä¸ªå˜é‡åœ¨å¦ä¸€ä¸ªå˜é‡å–ç‰¹å®šå€¼æ—¶çš„åˆ†å¸ƒï¼š

- **æ¡ä»¶ PDF**ï¼š
  $$
  F_{Y|X}(y|x) = \frac{f_{X, Y}(x, y)}{f_X (x)} \quad \text{å¯¹äº } f_X (x) > 0
  $$

### 1.4 ç‹¬ç«‹æ€§

ä¸¤ä¸ªéšæœºå˜é‡ç‹¬ç«‹æ„å‘³ç€çŸ¥é“ä¸€ä¸ªå˜é‡çš„ä¿¡æ¯ä¸ä¼šå½±å“å¦ä¸€ä¸ªå˜é‡çš„åˆ†å¸ƒï¼š

- **ç‹¬ç«‹æ€§å®šä¹‰**ï¼š$X$ å’Œ $Y$ ç‹¬ç«‹å½“ä¸”ä»…å½“
  $$
  F_{X, Y}(x, y) = f_X (x) \cdot f_Y (y) \quad \text{å¯¹æ‰€æœ‰ } x, y
  $$

```mermaid
xychart-beta
    title "è”åˆåˆ†å¸ƒä¸è¾¹ç¼˜åˆ†å¸ƒå¯è§†åŒ–"
    x-axis "X å€¼" [1, 2, 3, 4, 5]
    y-axis "æ¦‚ç‡å¯†åº¦" 0 --> 0.25
    line "è¾¹ç¼˜åˆ†å¸ƒ f_X(x)" [0.05, 0.15, 0.20, 0.15, 0.05]
    line "æ¡ä»¶åˆ†å¸ƒ f_{Y|X}(y|x=3)" [0.10, 0.15, 0.25, 0.15, 0.10]
```

---

## 2. æœŸæœ›å€¼ã€åæ–¹å·®å’Œç›¸å…³æ€§

### 2.1 è”åˆåˆ†å¸ƒçš„æœŸæœ›å€¼

- **å‡½æ•°çš„æœŸæœ›**ï¼šå¯¹äºå‡½æ•° $g (X, Y)$
  $$
  E[g (X, Y)] = \int_{-\infty}^{\infty} \int_{-\infty}^{\infty} g (x, y) f_{X, Y}(x, y) \, dx \, dy
  $$

- **çº¿æ€§æ€§**ï¼š$E[aX + bY + c] = aE[X] + bE[Y] + c$

### 2.2 åæ–¹å·®

åæ–¹å·®è¡¡é‡ä¸¤ä¸ªéšæœºå˜é‡çš„**çº¿æ€§ç›¸å…³ç¨‹åº¦**ï¼š

- **å®šä¹‰**ï¼š
  $$
  \text{Cov}(X, Y) = E[(X - E[X])(Y - E[Y])]
  $$
- **è®¡ç®—å…¬å¼**ï¼š
  $$
  \text{Cov}(X, Y) = E[XY] - E[X]E[Y]
  $$

**åæ–¹å·®çš„è§£è¯»**ï¼š
- $\text{Cov}(X, Y) > 0$ï¼šæ­£ç›¸å…³ï¼ˆä¸€ä¸ªå˜é‡å¢å¤§ï¼Œå¦ä¸€ä¸ªå€¾å‘äºå¢å¤§ï¼‰
- $\text{Cov}(X, Y) < 0$ï¼šè´Ÿç›¸å…³ï¼ˆä¸€ä¸ªå˜é‡å¢å¤§ï¼Œå¦ä¸€ä¸ªå€¾å‘äºå‡å°ï¼‰
- $\text{Cov}(X, Y) = 0$ï¼šä¸ç›¸å…³ï¼ˆä½†æœªå¿…ç‹¬ç«‹ï¼ï¼‰

### 2.3 ç›¸å…³ç³»æ•°

åæ–¹å·®çš„æ•°å€¼å¤§å°å—å˜é‡é‡çº²å½±å“ï¼Œç›¸å…³ç³»æ•°æä¾›äº†æ ‡å‡†åŒ–çš„åº¦é‡ï¼š

- **Pearson ç›¸å…³ç³»æ•°**ï¼š
  $$
  \rho_{X, Y} = \frac{\text{Cov}(X, Y)}{\sqrt{\text{Var}(X)\text{Var}(Y)}}
  $$

**æ€§è´¨**ï¼š
- $-1 \le \rho \le 1$
- $\rho = 1$ï¼šå®Œå…¨æ­£ç›¸å…³
- $\rho = -1$ï¼šå®Œå…¨è´Ÿç›¸å…³
- $\rho = 0$ï¼šä¸ç›¸å…³

```mermaid
xychart-beta
    title "æ ·æœ¬å‡å€¼æ–¹å·®éšæ ·æœ¬é‡çš„å˜åŒ–"
    x-axis [1, 5, 10, 20, 30, 50, 100]
    y-axis "Var(ğ‘‹Ì„) = ÏƒÂ²/n" 0 --> 1.2
    line "æ ·æœ¬å‡å€¼æ–¹å·®" [1.0, 0.2, 0.1, 0.05, 0.033, 0.02, 0.01]
```

### 2.4 é‡è¦æ€§è´¨

1. **æ–¹å·®çš„æ€§è´¨**ï¼š
   $$
   \text{Var}(aX + bY) = a^2\text{Var}(X) + b^2\text{Var}(Y) + 2 ab\text{Cov}(X, Y)
   $$

2. **ç‹¬ç«‹æ€§ä¸ä¸ç›¸å…³æ€§**ï¼š
   - å¦‚æœ $X$ å’Œ $Y$ ç‹¬ç«‹ï¼Œåˆ™ $\text{Cov}(X, Y) = 0$
   - ä½† $\text{Cov}(X, Y) = 0$ ä¸ä¸€å®šæ„å‘³ç€ç‹¬ç«‹ï¼

---

## 3. ç»Ÿè®¡é‡åŠå…¶åˆ†å¸ƒ

### 3.1 ç»Ÿè®¡é‡çš„æ¦‚å¿µ

**ç»Ÿè®¡é‡**æ˜¯æ ·æœ¬çš„å‡½æ•°ï¼Œä¸ä¾èµ–äºä»»ä½•æœªçŸ¥å‚æ•°ã€‚å¸¸è§çš„ç»Ÿè®¡é‡åŒ…æ‹¬ï¼š

- **æ ·æœ¬å‡å€¼**ï¼š$\bar{X} = \frac{1}{n} \sum_{i=1}^n X_i$
- **æ ·æœ¬æ–¹å·®**ï¼š$S^2 = \frac{1}{n-1} \sum_{i=1}^n (X_i - \bar{X})^2$
- **æ ·æœ¬æ ‡å‡†å·®**ï¼š$S = \sqrt{S^2}$

### 3.2 æŠ½æ ·åˆ†å¸ƒ

ç»Ÿè®¡é‡æœ¬èº«ä¹Ÿæ˜¯éšæœºå˜é‡ï¼Œå…¶åˆ†å¸ƒç§°ä¸º**æŠ½æ ·åˆ†å¸ƒ**ã€‚

#### 3.2.1 æ ·æœ¬å‡å€¼çš„åˆ†å¸ƒ

è®¾ $X_1, X_2, ..., X_n$ æ˜¯æ¥è‡ªæ€»ä½“ $X$ çš„ç‹¬ç«‹åŒåˆ†å¸ƒæ ·æœ¬ï¼Œ$E[X] = \mu$ï¼Œ$\text{Var}(X) = \sigma^2$ï¼š

- **æœŸæœ›å’Œæ–¹å·®**ï¼š
  $$
  E[\bar{X}] = \mu, \quad \text{Var}(\bar{X}) = \frac{\sigma^2}{n}
  $$

- **ä¸­å¿ƒæé™å®šç†**ï¼šå½“ $n$ è¶³å¤Ÿå¤§æ—¶ï¼Œ
  $$
  \bar{X} \stackrel{\text{è¿‘ä¼¼}}{\sim} N\left (\mu, \frac{\sigma^2}{n}\right)
  $$

#### 3.2.2 æ ·æœ¬æ–¹å·®çš„åˆ†å¸ƒ

å¯¹äºæ­£æ€æ€»ä½“ $X \sim N (\mu, \sigma^2)$ï¼š

- **å¡æ–¹åˆ†å¸ƒå…³ç³»**ï¼š
  $$
  \frac{(n-1) S^2}{\sigma^2} \sim \chi^2 (n-1)
  $$

#### 3.2.3 t åˆ†å¸ƒ

å½“æ€»ä½“æ–¹å·®æœªçŸ¥æ—¶ï¼Œç”¨äºå°æ ·æœ¬çš„å‡å€¼æ¨æ–­ï¼š

- **å®šä¹‰**ï¼šå¦‚æœ $Z \sim N (0,1)$ï¼Œ$V \sim \chi^2 (\nu)$ï¼Œä¸” $Z$ å’Œ $V$ ç‹¬ç«‹ï¼Œåˆ™
  $$
  T = \frac{Z}{\sqrt{V/\nu}} \sim t (\nu)
  $$

- **åº”ç”¨**ï¼š
  $$
  T = \frac{\bar{X} - \mu}{S/\sqrt{n}} \sim t (n-1)
  $$

```mermaid
xychart-beta
    title "æŠ½æ ·åˆ†å¸ƒçš„æ¯”è¾ƒï¼šæ­£æ€åˆ†å¸ƒ vs tåˆ†å¸ƒ"
    x-axis "ç»Ÿè®¡é‡å€¼" [-4, -3, -2, -1, 0, 1, 2, 3, 4]
    y-axis "æ¦‚ç‡å¯†åº¦" 0 --> 0.4
    line "æ ‡å‡†æ­£æ€åˆ†å¸ƒ" [0.000, 0.004, 0.054, 0.242, 0.399, 0.242, 0.054, 0.004, 0.000]
    line "tåˆ†å¸ƒ (df=5)" [0.005, 0.016, 0.065, 0.220, 0.379, 0.220, 0.065, 0.016, 0.005]
    line "tåˆ†å¸ƒ (df=2)" [0.018, 0.043, 0.118, 0.289, 0.354, 0.289, 0.118, 0.043, 0.018]
```

### 3.3 F åˆ†å¸ƒ

ç”¨äºä¸¤ä¸ªæ–¹å·®æ¯”çš„æ£€éªŒï¼š

- **å®šä¹‰**ï¼šå¦‚æœ $U \sim \chi^2 (\nu_1)$ï¼Œ$V \sim \chi^2 (\nu_2)$ï¼Œä¸” $U$ å’Œ $V$ ç‹¬ç«‹ï¼Œåˆ™
  $$
  F = \frac{U/\nu_1}{V/\nu_2} \sim F (\nu_1, \nu_2)
  $$

- **åº”ç”¨**ï¼šæ–¹å·®åˆ†æã€å›å½’åˆ†æ

### 3.4 ç»Ÿè®¡æ¨æ–­çš„åº”ç”¨æ¡†æ¶

```python
import numpy as np
import matplotlib.pyplot as plt
import scipy.stats as stats

# ç¤ºä¾‹ï¼šæ ·æœ¬å‡å€¼çš„æŠ½æ ·åˆ†å¸ƒæ¼”ç¤º
def demonstrate_sampling_distribution():
    Np.Random.Seed (42)
    
    # ç”Ÿæˆæ€»ä½“æ•°æ®ï¼ˆéæ­£æ€ï¼‰
    Population = np.Concatenate ([
        Np.Random.Exponential (2, 5000),
        Np.Random.Normal (10, 1, 5000)
    ])
    
    # æŠ½æ ·å®éªŒ
    N_samples = 1000
    Sample_means_n 5 = []
    Sample_means_n 30 = []
    
    For _ in range (n_samples):
        # æ ·æœ¬é‡ n=5
        Sample 5 = np.Random.Choice (population, size=5, replace=False)
        Sample_means_n 5.Append (np.Mean (sample 5))
        
        # æ ·æœ¬é‡ n=30  
        Sample 30 = np.Random.Choice (population, size=30, replace=False)
        Sample_means_n 30.Append (np.Mean (sample 30))
    
    # ç»˜åˆ¶ç»“æœ
    Fig, (ax 1, ax 2, ax 3) = plt.Subplots (1, 3, figsize=(15, 5))
    
    # æ€»ä½“åˆ†å¸ƒ
    Ax 1.Hist (population, bins=50, density=True, alpha=0.7)
    Ax 1. Set_title ('æ€»ä½“åˆ†å¸ƒï¼ˆéæ­£æ€ï¼‰')
    Ax 1. Set_xlabel ('å€¼')
    Ax 1. Set_ylabel ('å¯†åº¦')
    
    # æ ·æœ¬é‡ n=5 çš„æŠ½æ ·åˆ†å¸ƒ
    Ax 2.Hist (sample_means_n 5, bins=50, density=True, alpha=0.7)
    Ax 2. Set_title ('æ ·æœ¬å‡å€¼åˆ†å¸ƒ (n=5)')
    Ax 2. Set_xlabel ('æ ·æœ¬å‡å€¼')
    Ax 2. Set_ylabel ('å¯†åº¦')
    
    # æ ·æœ¬é‡ n=30 çš„æŠ½æ ·åˆ†å¸ƒ
    Ax 3.Hist (sample_means_n 30, bins=50, density=True, alpha=0.7)
    Ax 3. Set_title ('æ ·æœ¬å‡å€¼åˆ†å¸ƒ (n=30)\n (æ¥è¿‘æ­£æ€)')
    Ax 3. Set_xlabel ('æ ·æœ¬å‡å€¼')
    Ax 3. Set_ylabel ('å¯†åº¦')
    
    Plt. Tight_layout ()
    Plt.Show ()

# Demonstrate_sampling_distribution ()
```

### æ€»ç»“

| æ¦‚å¿µ | æ ¸å¿ƒæ€æƒ³ | å…³é”®å…¬å¼/å®šç† | ä¸»è¦åº”ç”¨ |
|------|----------|---------------|----------|
| **è”åˆåˆ†å¸ƒ** | æè¿°å¤šä¸ªéšæœºå˜é‡çš„å…±åŒè¡Œä¸º | $f_{X, Y}(x, y)$, è¾¹ç¼˜åˆ†å¸ƒï¼Œæ¡ä»¶åˆ†å¸ƒ | å¤šå…ƒåˆ†æï¼Œå›å½’æ¨¡å‹ |
| **åæ–¹å·®ä¸ç›¸å…³** | è¡¡é‡å˜é‡é—´çš„çº¿æ€§å…³ç³» | $\text{Cov}(X, Y)$, $\rho = \frac{\text{Cov}(X, Y)}{\sigma_X\sigma_Y}$ | ç›¸å…³æ€§åˆ†æï¼ŒæŠ•èµ„ç»„åˆç†è®º |
| **ç»Ÿè®¡é‡** | æ ·æœ¬çš„æ¦‚æ‹¬æ€§åº¦é‡ | $\bar{X}$, $S^2$, æŠ½æ ·åˆ†å¸ƒ | æ•°æ®æè¿°ï¼Œæ¢ç´¢æ€§åˆ†æ |
| **ä¸­å¿ƒæé™å®šç†** | å¤§æ ·æœ¬ä¸‹å‡å€¼è¶‹äºæ­£æ€ | $\bar{X} \sim N (\mu, \sigma^2/n)$ | å‚æ•°ä¼°è®¡ï¼Œå‡è®¾æ£€éªŒ |
| **t åˆ†å¸ƒ** | å°æ ·æœ¬å‡å€¼æ¨æ–­ | $T = \frac{\bar{X}-\mu}{S/\sqrt{n}} \sim t (n-1)$ | t æ£€éªŒï¼Œç½®ä¿¡åŒºé—´ |
| **F åˆ†å¸ƒ** | æ–¹å·®æ¯”è¾ƒ | $F = \frac{S_1^2/\sigma_1^2}{S_2^2/\sigma_2^2} \sim F (n_1-1, n_2-1)$ | æ–¹å·®åˆ†æï¼Œå›å½’æ˜¾è‘—æ€§ |

## 1. æ ·æœ¬å‡å€¼çš„åˆ†å¸ƒ

æ ·æœ¬å‡å€¼çš„åˆ†å¸ƒæ˜¯ç»Ÿè®¡å­¦ä¸­æœ€é‡è¦çš„æ¦‚å¿µä¹‹ä¸€ï¼Œå®ƒè¿æ¥äº†æè¿°æ€§ç»Ÿè®¡å’Œæ¨æ–­ç»Ÿè®¡ã€‚

### 1.1 åŸºæœ¬å®šä¹‰ä¸æ€§è´¨

è®¾ $X_1, X_2, ..., X_n$ æ˜¯æ¥è‡ªæ€»ä½“ $X$ çš„ç‹¬ç«‹åŒåˆ†å¸ƒéšæœºæ ·æœ¬ï¼Œæ€»ä½“å‡å€¼ä¸º $\mu$ï¼Œæ€»ä½“æ–¹å·®ä¸º $\sigma^2$ã€‚

**æ ·æœ¬å‡å€¼**å®šä¹‰ä¸ºï¼š
$$
\bar{X} = \frac{1}{n} \sum_{i=1}^n X_i
$$

#### 1.1.1 æœŸæœ›å€¼ä¸æ–¹å·®

- **æœŸæœ›å€¼**ï¼š
  $$
  E[\bar{X}] = E\left[\frac{1}{n} \sum_{i=1}^n X_i\right] = \frac{1}{n} \sum_{i=1}^n E[X_i] = \frac{1}{n} \cdot n\mu = \mu
  $$

- **æ–¹å·®**ï¼š
  $$
  \text{Var}(\bar{X}) = \text{Var}\left (\frac{1}{n} \sum_{i=1}^n X_i\right) = \frac{1}{n^2} \sum_{i=1}^n \text{Var}(X_i) = \frac{1}{n^2} \cdot n\sigma^2 = \frac{\sigma^2}{n}
  $$

**å…³é”®æ´å¯Ÿ**ï¼šæ ·æœ¬å‡å€¼çš„æ–¹å·®æ˜¯æ€»ä½“æ–¹å·®çš„ $\frac{1}{n}$ï¼Œè¿™æ„å‘³ç€æ ·æœ¬é‡è¶Šå¤§ï¼Œæ ·æœ¬å‡å€¼è¶Šç¨³å®šã€‚

#### 1.1.2 æ ‡å‡†å·®

æ ·æœ¬å‡å€¼çš„æ ‡å‡†å·®ï¼ˆæ ‡å‡†è¯¯å·®ï¼‰ï¼š
$$
\sigma_{\bar{X}} = \frac{\sigma}{\sqrt{n}}
$$

```mermaid
xychart-beta
    title "ä¸åŒç›¸å…³ç³»æ•°çš„æ•°æ®åˆ†å¸ƒç‰¹å¾"
    x-axis [-1, -0.5, 0, 0.5, 1]
    y-axis "çº¿æ€§å…³ç³»å¼ºåº¦" 0 --> 1.2
    line "æ­£ç›¸å…³" [0, 0.25, 0.5, 0.75, 1]
    line "è´Ÿç›¸å…³" [1, 0.75, 0.5, 0.25, 0]
```

### 1.2 ä¸­å¿ƒæé™å®šç†

è¿™æ˜¯ç»Ÿè®¡å­¦ä¸­æœ€é‡è¦çš„å®šç†ï¼Œå¥ å®šäº†å‚æ•°ç»Ÿè®¡æ¨æ–­çš„åŸºç¡€ã€‚

#### 1.2.1 å®šç†é™ˆè¿°

è®¾ $X_1, X_2, ..., X_n$ æ˜¯ç‹¬ç«‹åŒåˆ†å¸ƒéšæœºå˜é‡ï¼Œ$E[X_i] = \mu$ï¼Œ$\text{Var}(X_i) = \sigma^2 < \infty$ã€‚åˆ™å½“ $n \to \infty$ æ—¶ï¼Œæ ·æœ¬å‡å€¼çš„æ ‡å‡†åŒ–å½¢å¼æ”¶æ•›äºæ ‡å‡†æ­£æ€åˆ†å¸ƒï¼š
$$
\frac{\bar{X} - \mu}{\sigma/\sqrt{n}} \stackrel{d}{\to} N (0, 1)
$$
ç­‰ä»·åœ°ï¼š
$$
\bar{X} \stackrel{\text{è¿‘ä¼¼}}{\sim} N\left (\mu, \frac{\sigma^2}{n}\right) \quad \text{å½“ } n \text{ è¶³å¤Ÿå¤§æ—¶}
$$

#### 1.2.2 CLT çš„ç›´è§‚æ¼”ç¤º

```python
import numpy as np
import matplotlib.pyplot as plt
import scipy.stats as stats

def demonstrate_clt():
    np.random.seed(42)
    
    # ä»æŒ‡æ•°åˆ†å¸ƒï¼ˆå¼ºçƒˆå³åï¼‰ä¸­æŠ½æ ·
    population_mean = 2
    population_std = 2
    
    sample_sizes = [1, 5, 10, 30]
    n_samples = 10000
    
    fig, axes = plt.subplots(2, 2, figsize=(12, 10))
    axes = axes.flatten()
    
    for i, n in enumerate(sample_sizes):
        sample_means = []
        for _ in range(n_samples):
            sample = np.random.exponential(population_mean, n)
            sample_means.append(np.mean(sample))
        
        # ç»˜åˆ¶ç›´æ–¹å›¾
        axes[i].hist(sample_means, bins=50, density=True, alpha=0.7, 
                    label=f'æ¨¡æ‹Ÿåˆ†å¸ƒ (n={n})')
        
        # æ·»åŠ ç†è®ºæ­£æ€æ›²çº¿
        x = np.linspace(0, 6, 100)
        theoretical_mean = population_mean
        theoretical_std = population_std / np.sqrt(n)
        y = stats.norm.pdf(x, theoretical_mean, theoretical_std)
        axes[i].plot(x, y, 'r-', linewidth=2, label='ç†è®ºæ­£æ€åˆ†å¸ƒ')
        
        axes[i].set_title(f'æ ·æœ¬é‡ n = {n}')
        axes[i].set_xlabel('æ ·æœ¬å‡å€¼')
        axes[i].set_ylabel('å¯†åº¦')
        axes[i].legend()
        axes[i].grid(True, alpha=0.3)
    
    plt.suptitle('ä¸­å¿ƒæé™å®šç†æ¼”ç¤ºï¼šä»æŒ‡æ•°åˆ†å¸ƒåˆ°æ­£æ€åˆ†å¸ƒ', fontsize=14)
    plt.tight_layout()
    plt.show()

# demonstrate_clt()
```

#### 1.2.3 CLT çš„é‡è¦æ€§

1. **é€‚ç”¨æ€§å¹¿æ³›**ï¼šæ— è®ºæ€»ä½“åˆ†å¸ƒå½¢çŠ¶å¦‚ä½•ï¼Œåªè¦æ ·æœ¬é‡è¶³å¤Ÿå¤§
2. **æ ·æœ¬é‡è¦æ±‚**ï¼š
   - è¿‘ä¼¼å¯¹ç§°åˆ†å¸ƒï¼šn â‰¥ 15-20
   - ä¸­ç­‰åæ€åˆ†å¸ƒï¼šn â‰¥ 20-30  
   - å¼ºçƒˆåæ€åˆ†å¸ƒï¼šn â‰¥ 30-50
3. **å®è·µæ„ä¹‰**ï¼šå…è®¸æˆ‘ä»¬ä½¿ç”¨æ­£æ€åˆ†å¸ƒè¿›è¡Œå„ç§ç»Ÿè®¡æ¨æ–­

### 1.3 ç²¾ç¡®åˆ†å¸ƒï¼ˆæ­£æ€æ€»ä½“ï¼‰

å½“æ€»ä½“æœä»æ­£æ€åˆ†å¸ƒæ—¶ï¼Œæ ·æœ¬å‡å€¼æœ‰ç²¾ç¡®çš„åˆ†å¸ƒï¼š

**å®šç†**ï¼šå¦‚æœ $X_1, X_2, ..., X_n \stackrel{\text{i.i.d.}}{\sim} N (\mu, \sigma^2)$ï¼Œåˆ™
$$
\bar{X} \sim N\left (\mu, \frac{\sigma^2}{n}\right)
$$
$$
\frac{\bar{X} - \mu}{\sigma/\sqrt{n}} \sim N (0, 1)
$$

å½“æ€»ä½“æ–¹å·®æœªçŸ¥æ—¶ï¼Œä½¿ç”¨ t åˆ†å¸ƒï¼š
$$
\frac{\bar{X} - \mu}{S/\sqrt{n}} \sim t (n-1)
$$

---

## 2. çº¿æ€§ç»„åˆçš„åˆ†å¸ƒ

çº¿æ€§ç»„åˆåœ¨æŠ•èµ„ç»„åˆç†è®ºã€å›å½’åˆ†æã€æ–¹å·®åˆ†æç­‰é¢†åŸŸæœ‰å¹¿æ³›åº”ç”¨ã€‚

### 2.1 åŸºæœ¬å®šä¹‰

è®¾ $X_1, X_2, ..., X_n$ æ˜¯éšæœºå˜é‡ï¼Œ$a_1, a_2, ..., a_n$ æ˜¯å¸¸æ•°ï¼Œåˆ™çº¿æ€§ç»„åˆå®šä¹‰ä¸ºï¼š
$$
Y = a_1 X_1 + a_2 X_2 + \cdots + a_nX_n = \sum_{i=1}^n a_iX_i
$$

### 2.2 æœŸæœ›å€¼ä¸æ–¹å·®

#### 2.2.1 æœŸæœ›å€¼ï¼ˆæ€»æ˜¯æˆç«‹ï¼‰
$$
E[Y] = E\left[\sum_{i=1}^n a_iX_i\right] = \sum_{i=1}^n a_iE[X_i]
$$

#### 2.2.2 æ–¹å·®ï¼ˆéœ€è¦è€ƒè™‘ç›¸å…³æ€§ï¼‰

- **ä¸€èˆ¬æƒ…å†µ**ï¼š
  $$
  \text{Var}(Y) = \sum_{i=1}^n a_i^2 \text{Var}(X_i) + 2\sum_{i<j} a_ia_j \text{Cov}(X_i, X_j)
  $$

- **å½“å˜é‡ä¸ç›¸å…³æ—¶**ï¼ˆåæ–¹å·®ä¸º 0ï¼‰ï¼š
  $$
  \text{Var}(Y) = \sum_{i=1}^n a_i^2 \text{Var}(X_i)
  $$

- **å½“å˜é‡ç‹¬ç«‹æ—¶**ï¼š
  $$
  \text{Var}(Y) = \sum_{i=1}^n a_i^2 \text{Var}(X_i)
  $$

```mermaid
xychart-beta
    title "ç›¸å…³æ€§å¯¹æŠ•èµ„ç»„åˆé£é™©çš„å½±å“"
    x-axis [-1, -0.5, 0, 0.5, 1]
    y-axis "æŠ•èµ„ç»„åˆæ–¹å·®" 0 --> 1.2
    line "è´Ÿç›¸å…³ï¼ˆé£é™©åˆ†æ•£ï¼‰" [0.0, 0.3, 0.5, 0.7, 1.0]
    line "æ­£ç›¸å…³ï¼ˆé£é™©é›†ä¸­ï¼‰" [1.0, 0.85, 0.7, 0.85, 1.0]
```

### 2.3 ç‰¹æ®Šæƒ…å†µçš„åˆ†å¸ƒ

#### 2.3.1 ç‹¬ç«‹æ­£æ€å˜é‡çš„çº¿æ€§ç»„åˆ

**å®šç†**ï¼šå¦‚æœ $X_1, X_2, ..., X_n$ ç›¸äº’ç‹¬ç«‹ï¼Œä¸” $X_i \sim N (\mu_i, \sigma_i^2)$ï¼Œåˆ™
$$
Y = \sum_{i=1}^n a_iX_i \sim N\left ( \sum_{i=1}^n a_i\mu_i, \sum_{i=1}^n a_i^2\sigma_i^2 \right)
$$

**æ¨è®º**ï¼šæ­£æ€åˆ†å¸ƒçš„çº¿æ€§ç»„åˆä»ç„¶æ˜¯æ­£æ€åˆ†å¸ƒã€‚

#### 2.3.2 æ ·æœ¬å‡å€¼ä½œä¸ºç‰¹ä¾‹

æ ·æœ¬å‡å€¼æ˜¯çº¿æ€§ç»„åˆçš„ç‰¹ä¾‹ï¼Œå…¶ä¸­ $a_i = \frac{1}{n}$ï¼š
$$
\bar{X} = \frac{1}{n}X_1 + \frac{1}{n}X_2 + \cdots + \frac{1}{n}X_n
$$
å½“ $X_i \stackrel{\text{i.i.d.}}{\sim} N (\mu, \sigma^2)$ æ—¶ï¼š
$$
\bar{X} \sim N\left (\mu, \frac{\sigma^2}{n}\right)
$$

### 2.4 åº”ç”¨æ¡ˆä¾‹ï¼šæŠ•èµ„ç»„åˆç†è®º

å‡è®¾æœ‰ä¸¤ä¸ªèµ„äº§ï¼š
- èµ„äº§ Aï¼šæœŸæœ›æ”¶ç›Š $\mu_A$ï¼Œé£é™© $\sigma_A$
- èµ„äº§ Bï¼šæœŸæœ›æ”¶ç›Š $\mu_B$ï¼Œé£é™© $\sigma_B$
- ç›¸å…³ç³»æ•°ï¼š$\rho$

æŠ•èµ„ç»„åˆï¼šæŠ•èµ„ $w$ æ¯”ä¾‹åœ¨èµ„äº§ Aï¼Œ$1-w$ åœ¨èµ„äº§ B

**ç»„åˆæ”¶ç›Š**ï¼š$R_p = wR_A + (1-w) R_B$

**ç»„åˆæœŸæœ›æ”¶ç›Š**ï¼š
$$
E[R_p] = w\mu_A + (1-w)\mu_B
$$

**ç»„åˆé£é™©**ï¼š
$$
\sigma_p^2 = w^2\sigma_A^2 + (1-w)^2\sigma_B^2 + 2 w (1-w)\rho\sigma_A\sigma_B
$$

```python
Import numpy as np
Import matplotlib. Pyplot as plt

Def portfolio_optimization ():
    # å®šä¹‰ä¸¤ä¸ªèµ„äº§
    Mu_A, sigma_A = 0.08, 0.15    # èµ„äº§ Aï¼š8%æ”¶ç›Šï¼Œ15%é£é™©
    Mu_B, sigma_B = 0.12, 0.25    # èµ„äº§ Bï¼š12%æ”¶ç›Šï¼Œ25%é£é™©
    
    # ä¸åŒç›¸å…³ç³»æ•°
    Correlations = [-0.5, 0, 0.5]
    Weights = np.Linspace (0, 1, 100)  # ä»å…¨ B åˆ°å…¨ A
    
    Plt.Figure (figsize=(12, 8))
    
    For rho in correlations:
        Portfolio_returns = []
        Portfolio_risks = []
        
        For w in weights:
            # ç»„åˆæœŸæœ›æ”¶ç›Š
            Exp_return = w * mu_A + (1-w) * mu_B
            
            # ç»„åˆé£é™©
            Risk = np.Sqrt (w**2 * sigma_A**2 + 
                          (1-w)**2 * sigma_B**2 + 
                          2*w*(1-w)*rho*sigma_A*sigma_B)
            
            Portfolio_returns.Append (exp_return)
            Portfolio_risks.Append (risk)
        
        Plt.Plot (portfolio_risks, portfolio_returns, 
                Label=f'Ï = {rho}', linewidth=2)
    
    Plt.Xlabel ('ç»„åˆé£é™© (æ ‡å‡†å·®)')
    Plt.Ylabel ('ç»„åˆæœŸæœ›æ”¶ç›Š')
    Plt.Title ('æŠ•èµ„ç»„åˆæœ‰æ•ˆå‰æ²¿ï¼šç›¸å…³æ€§å¯¹åˆ†æ•£åŒ–çš„å½±å“')
    Plt.Legend ()
    Plt.Grid (True, alpha=0.3)
    Plt.Show ()

# Portfolio_optimization ()
```

### 2.5 çº¿æ€§ç»„åˆçš„åæ–¹å·®

å¯¹äºä¸¤ä¸ªçº¿æ€§ç»„åˆï¼š
$$
U = \sum_{i=1}^n a_iX_i, \quad V = \sum_{j=1}^m b_jY_j
$$
å®ƒä»¬çš„åæ–¹å·®ä¸ºï¼š
$$
\text{Cov}(U, V) = \sum_{i=1}^n \sum_{j=1}^m a_ib_j \text{Cov}(X_i, Y_j)
$$

---

## 3. é‡è¦å®šç†ä¸æ¨è®º

### 3.1 ç‹¬ç«‹æ€§ä¸ä¸ç›¸å…³æ€§

- å¦‚æœ $X_1, ..., X_n$ ç›¸äº’ç‹¬ç«‹ï¼Œåˆ™å®ƒä»¬ä¸¤ä¸¤ä¸ç›¸å…³
- åä¹‹ä¸æˆç«‹ï¼šä¸ç›¸å…³ä¸ä¸€å®šç‹¬ç«‹
- å¯¹äºæ­£æ€åˆ†å¸ƒï¼šä¸ç›¸å…³ â‡” ç‹¬ç«‹

### 3.2 å¤§æ•°å®šå¾‹

å¼±å¤§æ•°å®šå¾‹ï¼šå½“ $n \to \infty$ æ—¶ï¼Œ
$$
\bar{X} \stackrel{P}{\to} \mu
$$
å³æ ·æœ¬å‡å€¼ä¾æ¦‚ç‡æ”¶æ•›äºæ€»ä½“å‡å€¼ã€‚

### 3.3 æ–¹å·®çš„å¯åŠ æ€§

å¯¹äºç‹¬ç«‹éšæœºå˜é‡ï¼š
$$
\text{Var}(X_1 + X_2 + \cdots + X_n) = \text{Var}(X_1) + \text{Var}(X_2) + \cdots + \text{Var}(X_n)
$$

---

## æ€»ç»“

| æ¦‚å¿µ | æ ¸å¿ƒå†…å®¹ | å…³é”®å…¬å¼ | åº”ç”¨ |
|------|----------|----------|------|
| **æ ·æœ¬å‡å€¼åˆ†å¸ƒ** | æè¿°æ ·æœ¬å‡å€¼çš„å˜å¼‚æ€§ | $E[\bar{X}] = \mu$, $\text{Var}(\bar{X}) = \frac{\sigma^2}{n}$ | å‚æ•°ä¼°è®¡ï¼Œç½®ä¿¡åŒºé—´ |
| **ä¸­å¿ƒæé™å®šç†** | å¤§æ ·æœ¬ä¸‹å‡å€¼è¶‹äºæ­£æ€ | $\bar{X} \approx N (\mu, \sigma^2/n)$ | å‡è®¾æ£€éªŒï¼Œè´¨é‡æ§åˆ¶ |
| **çº¿æ€§ç»„åˆæœŸæœ›** | çº¿æ€§ç»„åˆçš„å‡å€¼ | $E[\sum a_iX_i] = \sum a_iE[X_i]$ | æŠ•èµ„ç»„åˆç†è®º |
| **çº¿æ€§ç»„åˆæ–¹å·®** | è€ƒè™‘ç›¸å…³æ€§çš„é£é™©åº¦é‡ | $\text{Var}(\sum a_iX_i) = \sum a_i^2\text{Var}(X_i) + 2\sum_{i<j}a_ia_j\text{Cov}(X_i, X_j)$ | é£é™©ç®¡ç†ï¼Œè¯¯å·®ä¼ æ’­ |
| **æ­£æ€çº¿æ€§ç»„åˆ** | æ­£æ€å˜é‡çš„çº¿æ€§ç»„åˆä»ä¸ºæ­£æ€ | $\sum a_iN (\mu_i,\sigma_i^2) \sim N (\sum a_i\mu_i, \sum a_i^2\sigma_i^2)$ | å›å½’åˆ†æï¼Œå®éªŒè®¾è®¡ |
