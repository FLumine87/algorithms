### 一、核心矛盾：2 个未知函数，需要 2 个方程

用常数变易法时，我们假设特解形式是 $y_P = u(x) y_1 + v(x) y_2$（$y_1, y_2$ 是齐次方程的两个线性无关解 ）。这里有 **2 个未知函数 $u(x)$ 和 $v(x)$**，但原方程是**二阶微分方程**，只给了 1 个方程，因此**需要额外找 1 个约束条件**，才能解出 $u(x)$ 和 $v(x)$。

### 二、为什么能加 “一阶导数约束”？

因为 $u(x)$ 和 $v(x)$ 是**待定函数**，我们有 “自由设定一个约束条件” 的空间（只要最终能解出合理的 $u(x), v(x)$ 即可 ）。
具体来说：
- 特解 $y_P$ 需要满足原非齐次方程，但 $u(x)$ 和 $v(x)$ 的自由度很高（两个函数，只需要满足一个二阶方程 ）。
- 为了简化计算，我们可以**主动给 $u'(x)$ 和 $v'(x)$ 加一个约束**，让 $y_P$ 的一阶导数形式更简单，从而降低二阶导数的计算复杂度。

### 三、“一阶导数约束” 的具体推导（以二阶方程 $y'' + P(x) y' + Q(x) y = f(x)$ 为例）

1. **设特解形式**：$y_P = u(x) y_1 + v(x) y_2$
    
2. **计算一阶导数**：$y_P' = u' y_1 + u y_1' + v' y_2 + v y_2'$ 这里有 $u', v'$（一阶导数）和 $u, v$（函数本身），共 4 项，看起来复杂。
    
3. **引入约束**：令 $u' y_1 + v' y_2 = 0$（这就是 “一阶导数约束” ）。 这样，一阶导数就简化为：$y_P' = u y_1' + v y_2'$ （去掉了 $u', v'$ 的交叉项，计算更简单 ）
    
4. **计算二阶导数**： 对 $y_P' = u y_1' + v y_2'$ 再求导：$y_P'' = u' y_1' + u y_1'' + v' y_2' + v y_2''$
    
5. **代入原非齐次方程**： 原方程 $y'' + P(x) y' + Q(x) y = f(x)$，代入 $y_P, y_P', y_P''$：$\underbrace{[u' y_1' + u y_1'' + v' y_2' + v y_2'']}_{y_P''} + P(x) \underbrace{[u y_1' + v y_2']}_{y_P'} + Q(x) \underbrace{[u y_1 + v y_2]}_{y_P} = f(x)$
    
6. **利用齐次方程简化**： 因为 $y_1, y_2$ 是齐次方程 $y'' + P(x) y' + Q(x) y = 0$ 的解，所以：$y_1'' + P(x) y_1' + Q(x) y_1 = 0, \quad y_2'' + P(x) y_2' + Q(x) y_2 = 0$ 因此，方程中含 u 和 v 的项可以抵消：$u \underbrace{[y_1'' + P y_1' + Q y_1]}_{=0} + v \underbrace{[y_2'' + P y_2' + Q y_2]}_{=0} + u' y_1' + v' y_2' = f(x)$
    
7. **得到第二个方程**： 最终简化为：$u' y_1' + v' y_2' = f(x)$
### 四、总结：“一阶导数约束” 的作用

1. **减少未知量**：把 $u', v'$ 的约束从 “无” 变成 “有”，将原本需要解二阶导数的复杂关系，转化为解关于 $u', v'$ 的**一阶线性方程组**（共 2 个方程 ）。
    
2. **简化计算**：通过约束 $u' y_1 + v' y_2 = 0$，让 $y_P'$ 和 $y_P''$ 的形式更简单，避免高阶导数的复杂交叉项。
    
3. **存在性保证**：因为 $y_1, y_2$ 是线性无关的（否则不能作为齐次方程的基础解系 ），所以系数矩阵的行列式（朗斯基行列式 $W(y_1, y_2) = y_1 y_2' - y_1' y_2 \neq 0$ ），保证了方程组 $\begin{cases} u' y_1 + v' y_2 = 0 \\ u' y_1' + v' y_2' = f(x) \end{cases}$ 有唯一解。